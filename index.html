<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVS Mini-Project Survey</title>
    <script src="jquery.min.js"></script>
</head>
<body>
    <div class="jumbotron" style="text-align: center">
        <h1 class="display-3">EVS Survey</h1>
        <p class="lead">Survey on the daily amount of garbage disposal in households</p>
    </div>
    
    <div class="container" style="width: 60%">
        <p>Please fill in the form below. Use estimated/average amounts where needed</p>
        <form action="submit.php" method="POST">

            <div class="form-row">
                <div class="form-group col">
                    <label for="name">Name:</label>
                    <input type="text" name="name" id="name" class="form-control" required>
                </div>

                <div class="form-group col">
                    <label for="email">Email:</label>
                    <input type="email" name="email" id="email" class="form-control" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col">
                    <label for="normal_dustbins">No. of Normal dustbins used per day:</label>
                    <input type="number" name="normal_dustbins" id="normal_dustbins" class="form-control" aria-describedby="normal" required>
                    <small class="text-muted form-text" id="normal">Volume: 12L</small>
                </div>

                <div class="form-group col">
                    <label for="small_dustbins">No. of Small dustbins used per day:</label>
                    <input type="number" name="small_dustbins" id="small_dustbins" class="form-control" aria-describedby="small" required>
                    <small class="text-muted form-text" id="small">Volume: 6.5L</small>
                </div>
            </div>

            <div class="form-group">
                <label for="percentPaper">What is the approximate percentage of Paper waste?</label>
                <p class="percentage">50</p>
                <input type="range" name="percentPaper" id="percentPaper" class="slider form-control-range" min="0" max="100" required>
            </div>

            <div class="form-group">
                <label for="percentPlastic">What is the approximate percentage of Plastic waste?</label>
                <p class="percentage2">50</p>
                <input type="range" name="percentPlastic" id="percentPlastic" class="slider form-control-range" min="0" max="100" required>
            </div>

            <div class="form-group">
                <label for="percentKitchen">What is the approximate percentage of Kitchen waste?</label>
                <p class="percentage3">50</p>
                <input type="range" name="percentKitchen" id="percentKitchen" class="slider form-control-range" min="0" max="100" required>
            </div>

            <br>
            <div class="message">The combined contribution of the above three types of waste should not exceed 100%</div>

            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
        <br>
        <br>
    </div>
    
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="style.css">

    <script src="bootstrap.min.js"></script>
    <script>

        $('input[type=range]#percentPaper').on('input change', function(){
            $('.percentage').html(this.value)
        })

        $('input[type=range]#percentPlastic').on('input change', function(){
            $('.percentage2').html(this.value)
        })

        $('input[type=range]#percentKitchen').on('input change', function(){
            $('.percentage3').html(this.value)
        })

        //Check if total percentage is near 100 or greater
        $('input[type=range]').on('input change', function(){
            var p1 = parseInt($('input[type=range]#percentPaper').val())
            var p2 = parseInt($('input[type=range]#percentPlastic').val())
            var p3 = parseInt($('input[type=range]#percentKitchen').val())

            if((p1 + p2 + p3) > 100){
                $('.btn').attr("disabled", "True")
                $('.message').fadeIn()
            }
            else{
                $('.btn').removeAttr("disabled")
                $('.message').fadeOut()
            }
        })

    </script>
</body>
</html>